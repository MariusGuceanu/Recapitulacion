<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ejercicio2 - Objeto Math</title>
</head>

<body>
    <script src="http://185.60.40.210/dwc/Juegos.js"></script>
    <script>
        const n = 2

            ;
        const aPuzzle = Aleatorio(n);
        let sHtml = "";
        sHtml += "<table>";
        fila = 0;
        columna = 0;
        f0 = n - 1;
        c0 = n - 1;
        for (arr of aPuzzle) {
            sHtml += "<tr>";
            for (value of arr) {
                sHtml += `<td><img id='imBola${fila}${columna}' src="imagenes/n${value}.gif" onClick="Cambiar(${fila},${columna})"></td>`;
                columna++
            }
            sHtml += "</tr>";
            fila++; columna = 0;


        }
        sHtml += "</table>";
        document.write(sHtml);

        function Cambiar(fila, columna) {
            if (
                (columna == c0 && (fila + 1 == f0 || fila - 1 == f0)) ||
                (fila == f0 && (columna + 1 == c0 || columna - 1 == c0))
            ) {
                [aPuzzle[fila][columna], aPuzzle[f0][c0]] = [aPuzzle[f0][c0], aPuzzle[fila][columna]];

                const img1 = document.getElementById(`imBola${fila}${columna}`);
                const img2 = document.getElementById(`imBola${f0}${c0}`);
                const imgAux = img1.src;
                img1.src = img2.src;
                img2.src = imgAux;
                f0 = fila;
                c0 = columna;

                if (Array.from({ length: n * n - 1 }, (x, i) => i + 1).join(",") + ",0" == aPuzzle.flat()
                ) {
                    alert("victoria")

                }

            }




        }
    </script>
</body>

</html>